这是一个基于 **Claude Code + Opus 4.5 能力边界** 和 **Cloudboot NG 战略目标** 的精密战术规划。

我们将开发过程拆解为 **6 个“特种作战行动” (Operations)**。

**核心原则：**

1. **交互开发 (Interactive)**：用于定调、视觉微调、复杂交互逻辑验收。需要您实时反馈“这个颜色不对”或“这个手感不好”。
2. **挂机开发 (Autonomous)**：用于逻辑实现、CRUD、测试用例编写、底层工具链构建。这是 AI 的“暴力美学”时刻，您睡觉，它干活。

以下是详细的任务拆分方案，请您审核。

---

# Cloudboot NG "Velocity" 开发任务作战地图
**总指挥**：CEO  
**上下文**：已加载 `PRODUCT_Blueprint.md` (灵魂) + 5 份技术规范 (骨架)。

---

## 🟢 行动 1：创世纪 (Genesis) —— 骨架与视觉定调
**模式**：**⚡****️ 交互开发 (Interactive)**  
**耗时**：2-3 小时

+ **为什么需要交互？**
    - 这是项目的“脸面”。深色工业风的质感、Tailwind 的配置、字体渲染效果，必须由您亲眼确认。如果起步是丑的，后面全是丑的。
+ **任务拆解**：
    1. **基建初始化**：建立 Go 目录，初始化 Makefile，配置 Tailwind CLI。
    2. **视觉组件库 (UI Kit) 实现**：
        * 根据 `UI_Design_System.md`，编写 Card, Button, Badge, Terminal 组件。
        * 创建一个 `/design-system` 路由，展示所有组件。
    3. **布局框架**：实现 Sidebar, Topbar, 和响应式结构。
+ **验收标准**：打开浏览器，看到一个令人惊艳的、深色风格的组件展示页。

---

## 🟡 行动 2：核心脏器 (The Core Organs) —— 数据与 CSPM 后端
**模式**：**🌙**** 全自动挂机 (Autonomous)**  
**耗时**：6-8 小时 (建议过夜执行)

+ **为什么可以挂机？**
    - 这是纯逻辑层。`DATA_Schema.md` 和 `CSPM_Protocol.md` 已经定义得非常死，AI 只需要“填空”。
+ **任务拆解**：
    1. **数据层**：根据 Schema 定义 Gorm Model (Machine, Job, License)，并生成 SQLite 迁移脚本。
    2. **CSPM 引擎**：实现 PluginManager，实现 DRM 解密逻辑（Mock 密钥），实现 Stdin/Stdout 交互器。
    3. **Mock Provider**：编写一个 Go 版本的 `mock-provider`，模拟 RAID 配置过程。
    4. **单元测试**：为上述所有逻辑编写 `_test.go`，确保逻辑闭环。
+ **验收标准**：次日早晨，运行 `go test ./...` 全绿。

---

## 🟢 行动 3：杀手级体验 (The Killer Experience) —— 实时流与配置器
**模式**：**⚡****️ 交互开发 (Interactive)**  
**耗时**：3-4 小时

+ **为什么需要交互？**
    - **实时日志**：看到绿色的日志一行行跳出来，这种“黑客帝国”的感觉需要微调动画参数。
    - **OS Designer**：拖拽分区的交互（Alpine.js）比较复杂，容易卡顿，需要人眼验收优化。
+ **任务拆解**：
    1. **SSE 管道**：打通 `CSPM Executor -> Channel -> SSE -> HTMX` 的日志推送链路。
    2. **OS Designer 前端**：实现分区拖拽 UI，实现左侧表单与右侧代码预览的联动。
    3. **逻辑联调**：在界面上点击“测试”，能看到 Mock Provider 的日志在跑。
+ **验收标准**：界面操作丝滑，日志滚动流畅，没有“卡顿感”。

---

## 🟡 行动 4：配置生成引擎 (The Compiler) —— 模板逻辑
**模式**：**🌙**** 全自动挂机 (Autonomous)**  
**耗时**：4-5 小时

+ **为什么可以挂机？**
    - 这是纯文本转换逻辑。将 JSON 结构体转译为 Kickstart/Autoyast 文本，这是 LLM 最擅长的工作。
+ **任务拆解**：
    1. **模板编写**：编写 CentOS 7/8, Ubuntu, SUSE 的标准模板 (`.tmpl`)。
    2. **渲染引擎**：实现 `func Render(profile OSProfile) string`。
    3. **校验逻辑**：实现对生成配置的语法检查（如检查是否缺少 `/` 分区）。
    4. **大量测试**：生成 20 种不同的配置组合，验证生成的文本是否正确。
+ **验收标准**：单元测试覆盖了各种边缘情况（如 LVM 嵌套、Bonding 网络）。

---

## 🟡 行动 5：数据面 (The Data Plane) —— BootOS 与 Agent
**模式**：**🌙**** 全自动挂机 (Autonomous)**  
**耗时**：5-6 小时

+ **为什么可以挂机？**
    - 这是系统编程。基于 `SPEC-03` 和 `BootOS 白皮书`，逻辑非常硬核且标准。
+ **任务拆解**：
    1. **Agent 开发**：编写 `cmd/agent`，实现心跳、下载、执行逻辑。静态编译。
    2. **构建脚本**：编写 `Dockerfile` 和 `build.sh`，实现从 OpenEuler 提取 Rootfs 并打包 ISO 的全过程。
    3. **hw-init**：将 Agent 包装为单机版 TUI 工具。
+ **验收标准**：生成了 `bootos.iso` 和 `hw-init` 二进制文件。

---

## 🟢 行动 6：全链路仿真 (The Simulation) —— 最终验收
**模式**：**⚡****️ 交互开发 (Interactive)**  
**耗时**：2 小时

+ **为什么需要交互？**
    - 我们要把所有东西串起来，看一场“演出”。
+ **任务拆解**：
    1. **仿真环境**：编写 `simulate.sh`，启动 Server 和 QEMU。
    2. **流程跑通**：在浏览器里操作，看着 QEMU 虚拟机里的 BootOS 跑起来，看着日志回传。
    3. **Bug Bash**：修补最后发现的流程断点。
+ **验收标准**：你可以录制一段 3 分钟的 Demo 视频，发给投资人或客户。

---

### **总结：节奏规划**
+ **Day 1 白天**：**行动 1**（定调）
+ **Day 1 晚上**：**行动 2**（后端挂机）
+ **Day 2 白天**：**行动 3**（前端攻坚）
+ **Day 2 晚上**：**行动 4 & 5**（模板与底层挂机）
+ **Day 3 白天**：**行动 6**（联调与发布）

**CEO，这个规划是否符合您的预期？**  
如果同意，我们将不再空谈，直接生成 **行动 1：创世纪** 的具体 SPEC 任务书，然后就可以把终端交给 Claude 了。

